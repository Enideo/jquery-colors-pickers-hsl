(function(a){function z(){var b=a("<div/>").addClass("scale"),e=a("<div/>").css({zIndex:1,width:160,height:160}),g=a("<span/>").css({position:"absolute",zIndex:3}),h=g.clone().addClass("outline").css({zIndex:2}),c=a("<span/>").addClass("handle");e.add(c).css({position:"absolute",top:0,left:0});l=a("<div/>").addClass("hslCircleColorPicker").css({position:"relative",width:160,height:185});l.append(b.clone().addClass("h").data("arrayIndex",0).addClass("hSprite").css({width:160,height:160}).append(e.clone().addClass("hSprite").css({backgroundPosition:"-320px 0"})).append(e.clone().addClass("hSprite").css({backgroundPosition:"-160px 0"})));
b.css({overflow:"hidden"});e.css({backgroundRepeat:"repeat-x",width:20,height:100});l.append(b.clone().addClass("s").data("arrayIndex",1).css({width:20,height:100,position:"absolute",top:30,left:70}).append(e.clone().addClass("sSprite").css({backgroundPosition:"0 -200px"})).append(e.clone().addClass("sSprite")).append(e.clone().addClass("sSprite").css({backgroundPosition:"0 -100px"})));l.append(b.clone().addClass("l").data("arrayIndex",2).css({height:20,position:"absolute",top:165,left:0,right:0}));
r.append(l);q=l.children("div");q.each(function(j){var d=a(this);if(j===0){d.append(c.clone().append(g.clone().text("+")).append(h.clone().text("+")));d.children("span").children().each(function(){var f=a(this);f.css({top:-f.height()/2,left:-f.width()/2})})}else if(j==1){d.append(c.clone().append(g.clone().text("\u25b6")).append(g.clone().text("\u25c0")).append(h.clone().text("\u25b6")).append(h.clone().text("\u25c0")));d.children("span").css({right:2}).children().each(function(f){var n=a(this);leftOrRight=
"left";if(f%2!==0)leftOrRight="right";n.css({top:-n.height()/2}).css(leftOrRight,-n.width()/2)})}else if(j==2){d.append(c.clone().append(g.clone().text("\u25bc")).append(g.clone().text("\u25b2")).append(h.clone().text("\u25bc")).append(h.clone().text("\u25b2")));d.children("span").css({bottom:2}).children().each(function(f){var n=a(this),p="top";if(f%2!==0)p="bottom";n.css({left:-n.width()/2-1}).css(p,-n.height()/2)})}});i=[Math.random()*360,Math.random()*100,Math.random()*100];v=false;s=t=u=null;
q.mousedown(A)}function A(b){function e(d){var f=100;if(j===0){d=Math.atan2(d.pageX-c.left,c.top-d.pageY)/6.28;if(d<0)d+=1;f=360}else d=j==1?(100-(d.pageY-c.top))/100:(d.pageX-c.left)/160;d=d>1?1:d<0?0:d;i[j]=d*f;x();a.isFunction(t)&&t(a.colors(i,"array1Circle2Percentage","HSL"));return false}function g(){a.isFunction(u)&&u(a.colors(i,"array1Circle2Percentage","HSL"));a(document).unbind("mousemove",e).unbind("mouseup",g);l.data("dragging",false)}var h=a(b.currentTarget),c=h.offset(),j=h.data("arrayIndex");
if(j===0){c.top+=80;c.left+=80}w(a(this).closest(".hslCircleColorPicker").parent());if(v)return true;a.isFunction(s)&&s(a.colors(i,"array1Circle2Percentage","HSL"));if(!l.data("dragging")){a(document).bind("mousemove",e).bind("mouseup",g);l.data("dragging",true)}e(b);return false}function x(){var b,e,g=i[2]/100;q.each(function(){var h=a(this),c=h.data("arrayIndex"),j=i[c]/360*6.28;h=h.children("span");if(c===0)h.css({top:-Math.cos(j)*70+80,left:Math.sin(j)*70+80});else c==1?h.css({top:98-i[c]*100/
100}):h.css({left:i[c]*160/100})});e=(100-i[1])/100;b=[g*e,(1-g)*e];if(i[2]>50){e=(i[2]-50)*2/100;b[0]=Math.max(b[0],e)}else{e=(50-i[2])*2/100;b[1]=Math.max(b[1],e)}q.filter(".h").children("div").each(function(h){a(this).css("opacity",b[h])});b=i[2]>50?[e,1-e,0]:[0,1-e,e];b[1]*=0.8;q.filter(".s").css({backgroundColor:a.colors([i[0],100,50],"array1Circle2Percentage","HSL").toString("rgb")}).children("div").each(function(h){a(this).css("opacity",b[h])});q.filter(".l").css({backgroundColor:a.colors([i[0],
i[1],50],"array1Circle2Percentage","HSL").toString("rgb")})}function w(b){r=b;if(r.data("hslCircleColorPickerId")){l=r.children();q=l.children("div.scale");k=r.data("hslCircleColorPickerId");i=m[k].hsl;v=m[k].disabled;s=m[k].onStartChange;t=m[k].onChange;u=m[k].onEndChange}else{k=(new Date).getTime();r.data("hslCircleColorPickerId",k);z();m[k]={hsl:i,disabled:v,onStartChange:s,onChange:t,onEndChange:u}}}function B(){function b(e){var g,h,c,j,d=[[".hslCircleColorPicker",["display","inline-block"]],
[".hslCircleColorPicker>div.scale",["border","1px solid #888"],["cursor","crosshair"]],[".hslCircleColorPicker>div.scale.h",["border-width","0 !important"]],[".hslCircleColorPicker>div.scale.s",["cursor","NS-resize"],["cursor","row-resize"]],[".hslCircleColorPicker>div.scale.l",["cursor","EW-resize"],["cursor","col-resize"]],[".hslCircleColorPicker>div.scale>span.handle>span",["color","#eee"],["font-size","16px"]],[".hslCircleColorPicker>div.scale>span.handle>span.outline",["color","#333"],["font-size",
"18px"]],[".hslCircleColorPicker.disabled>div.scale",["cursor","default"]],[".hslCircleColorPicker.disabled>div.scale>span.handle>span",["opacity","0.5"],["filter","alpha(opacity=50)"]]],f,n,p=document.getElementsByTagName("link");if(p.length===0)p=document.getElementsByTagName("style");if(e===true||this.width!=1||this.height!=1)d=d.concat([[".hslCircleColorPicker .hSprite",["background-image","url('"+a.colors.pickers.hslCircle.pathToImages+"jquery.colors.pickers.hslCircle.sprite.h.png')"]],[".hslCircleColorPicker .sSprite",
["background-image","url('"+a.colors.pickers.hslCircle.pathToImages+"jquery.colors.pickers.hslCircle.sprite.s.png')"]],[".hslCircleColorPicker>div.scale.l",["background-image","url('"+a.colors.pickers.hslCircle.pathToImages+"jquery.colors.pickers.hslCircle.l.png')"]]]);else{f=document.createElement("link");f.type="text/css";f.charset="utf-8";f.rel="stylesheet";f.href=a.colors.pickers.hslCircle.pathToImages+"jquery.colors.pickers.hslCircle.css";p.length!==0?document.getElementsByTagName("head")[0].insertBefore(f,
p[0]):document.getElementsByTagName("head")[0].appendChild(f)}f=document.createElement("style");f.type="text/css";f.charset="utf-8";f.rel="stylesheet";g=0;for(h=d.length;g<h;g++){n=[d[g][0],"{"];c=1;for(j=d[g].length;c<j;c++)n.push(d[g][c].join(":"),";");n.push("}");d[g]=n.join("")}d=d.join("");p.length!==0?document.getElementsByTagName("head")[0].insertBefore(f,p[0]):document.getElementsByTagName("head")[0].appendChild(f);if(f.styleSheet)f.styleSheet.cssText=d;else a(f).text(d);e!==true&&a(this).remove()}
y=true;/MSIE/.test(navigator.appVersion)?b(true):a("<img/>").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==").one("error load",b).appendTo("body")}var y,m={},i,v,s,t,u,r,l,q,k,o;a.fn.hslCircleColorPicker=function(b){var e,g=[];if(typeof b=="string"&&this.data("hslCircleColorPickerId"))return b==="color"?a.colors(m[this.data("hslCircleColorPickerId")].hsl,"array1Circle2Percentage","HSL"):m[this.data("hslCircleColorPickerId")][b];y||B();e=this.each(function(){w(a(this));
if(typeof b=="object"){var h=a.colors.models.HSL.parameterIndexes,c;for(c in b){if(c in h){m[k].hsl[h[c]]=b[c];delete b[c]}if(c==="color"){if(b[c]instanceof a.colors===false)b[c]=a.colors(b[c]);m[k].hsl=b[c].model("HSL").format("array1Circle2Percentage");delete b[c]}}a.extend(m[k],b);m[k].hsl=a.colors.models.HSL.sanitize(m[k].hsl).slice(0,3);w(r);if("disabled"in b)b.disabled?l.addClass("disabled"):l.removeClass("disabled")}else b==="hsl"&&g.push(i);x()});return g.length>1?g:g.length==1?g[0]:e};if(a.colors.pickers===
undefined)a.colors.pickers={};o=a("script[src]");if(o.length>0){o=o.eq(o.length-1).attr("src").split("/");o.pop();o=o.join("/")+"/"}else o="";a.colors.pickers.hslCircle={pathToImages:o}})(jQuery);
