(function(b){function x(){var a=b("<div/>").css({width:198,backgroundRepeat:"repeat-y",position:"relative",overflow:"hidden"}).addClass("scale"),e=b("<div/>").css({zIndex:1,bottom:0,backgroundRepeat:"repeat-y"}),d=b("<span/>").css({position:"absolute",zIndex:3}),g=b("<span/>").css({bottom:0}).addClass("handle");e.add(g).css({position:"absolute",top:0,left:0,right:0});l=b("<div/>").addClass("hslLiteColorPicker");l.append(a.clone().addClass("h sprite").data("arrayIndex",0).append(e.clone())).append(a.clone().addClass("s").data("arrayIndex",
1).append(e.clone().addClass("sprite").css({backgroundPosition:"-792px 0"})).append(e.clone().addClass("sprite").css({backgroundPosition:"-396px 0"})).append(e.clone().addClass("sprite").css({backgroundPosition:"-594px 0"}))).append(a.clone().addClass("l sprite").data("arrayIndex",2).css({backgroundPosition:"-198px 0"}));o.append(l);n=l.children("div");g.append(d.clone().text("\u25bc")).append(d.clone().text("\u25b2"));d.addClass("outline").css({zIndex:2});g.append(d.clone().text("\u25bc")).append(d.clone().text("\u25b2"));
n.append(g).children().children().each(function(c){var h=b(this),i="top";if(c%2!==0)i="bottom";h.css({left:-h.width()/2-1}).css(i,-h.height()/2)});f=[Math.random()*360,Math.random()*100,Math.random()*100];s=false;p=q=r=null;n.mousedown(y)}function y(a){function e(i){var u=100;i=(i.pageX-c)/200;i=i>1?1:i<0?0:i;if(h===0)u=360;f[h]=i*u;v();b.isFunction(q)&&q(b.colors(f,"array1Circle2Percentage","HSL"));return false}function d(){b.isFunction(r)&&r(b.colors(f,"array1Circle2Percentage","HSL"));b(document).unbind("mousemove",
e).unbind("mouseup",d);l.data("dragging",false)}var g=b(a.currentTarget),c=g.offset().left,h=g.data("arrayIndex");t(b(this).closest(".hslLiteColorPicker").parent());if(s)return true;b.isFunction(p)&&p(b.colors(f,"array1Circle2Percentage","HSL"));if(!l.data("dragging")){b(document).bind("mousemove",e).bind("mouseup",d);l.data("dragging",true)}e(a);return false}function v(){var a,e;n.each(function(){var d=b(this),g=d.data("arrayIndex"),c=100;if(g===0)c=360;d.children("span").css({left:f[g]*200/c})});
if(f[2]>50){e=(f[2]-50)*2/100;a=[e,1-e,0]}else{e=(50-f[2])*2/100;a=[0,1-e,e]}a[1]*=0.8;n.filter(".h").children("div").css({backgroundColor:b.colors([0,0,f[2]],"array1Circle2Percentage","HSL").toString("rgb")}).css("opacity",Math.max(e,(100-f[1])/100));n.filter(".s").css({backgroundColor:b.colors([f[0],100,50],"array1Circle2Percentage","HSL").toString("rgb")}).children("div").each(function(d){b(this).css("opacity",a[d])});n.filter(".l").css({backgroundColor:b.colors([f[0],f[1],50],"array1Circle2Percentage",
"HSL").toString("rgb")})}function t(a){o=a;if(o.data("hslLiteColorPickerId")){l=o.children();n=l.children("div.scale");j=o.data("hslLiteColorPickerId");f=k[j].hsl;s=k[j].disabled;p=k[j].onStartChange;q=k[j].onChange;r=k[j].onEndChange}else{j=(new Date).getTime();o.data("hslLiteColorPickerId",j);x();k[j]={hsl:f,disabled:s,onStartChange:p,onChange:q,onEndChange:r}}}function z(){var a,e,d,g,c=[[".hslLiteColorPicker",["display","inline-block"]],[".hslLiteColorPicker>div.scale",["height","1.5em"],["border",
"1px solid #000"],["margin","auto"],["cursor","crosshair"]],[".hslLiteColorPicker>div.scale>span.handle>span",["color","#eee"],["font-size","1.2em"]],[".hslLiteColorPicker>div>span.handle>span.outline",["color","#111"],["font-size","1.4em"]],[".hslLiteColorPicker.disabled>div.scale",["cursor","default"]],[".hslLiteColorPicker.disabled>div.scale>span.handle>span",["opacity","0.5"],["filter","alpha(opacity=50)"]],[".hslLiteColorPicker .sprite",["background-image","url('"+b.colors.pickers.hslLite.pathToImages+
"jquery.colors.pickers.hslLite.sprite.png')"]]],h=document.createElement("style"),i;w=true;/MSIE/.test(navigator.appVersion)||(c=c.concat([[".hslLiteColorPicker .sprite",["background-image","url('data:image/png;charset=\"utf-8\";base64,iVBORw0KGgoAAAANSUhEUgAAA94AAAABEAYAAAB4faoPAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAABFklEQVRYw+1X2w6DIAwFfdD99bKfVkyAbbDGeCk3cTHb6YPNKT3lpG00SmvFy97PvhfOyHddGHM+lsfVvd2O8XP17MeV8mgYvCc8jvt4HSfeOs7xOJ96T279WF3CV5hoKb/uZsQ6l3rObQS3Mam41sTDes7qeWzWqee1d4PLPzK50snEJjRN4XdW6X17eU0jpVLWSmdae28M4cbZjMPxWrzUesYs87e8WB53Xykvr14p77j+vL5et5/n7psQHret983HCM9xwpSxPOfitXip9Ur1r3npdWvz8uqV8qCf4z2c0ZfT/21svTF58W/zrqLj1/Wjn9CPfv6z/rszrdFP6Ec/oR/9hP4Qzxu+F9CPfkI/9gH6w7wnLhg+WFwMyfwAAAAASUVORK5CYII=')"]]]));
h.type="text/css";h.charset="utf-8";h.rel="stylesheet";a=0;for(e=c.length;a<e;a++){i=[c[a][0],"{"];d=1;for(g=c[a].length;d<g;d++)i.push(c[a][d].join(":"),";");i.push("}");c[a]=i.join("")}c=c.join("");a=document.getElementsByTagName("link");if(a.length===0)a=document.getElementsByTagName("style");a.length!==0?document.getElementsByTagName("head")[0].insertBefore(h,a[0]):document.getElementsByTagName("head")[0].appendChild(h);if(h.styleSheet)h.styleSheet.cssText=c;else b(h).text(c)}var w,k={},f,s,p,
q,r,o,l,n,j,m;b.fn.hslLiteColorPicker=function(a){var e,d=[];if(typeof a=="string"&&this.data("hslLiteColorPickerId"))return a==="color"?b.colors(k[this.data("hslLiteColorPickerId")].hsl,"array1Circle2Percentage","HSL"):k[this.data("hslLiteColorPickerId")][a];w||z();e=this.each(function(){t(b(this));if(typeof a=="object"){var g=b.colors.models.HSL.parameterIndexes,c;for(c in a){if(c in g){k[j].hsl[g[c]]=a[c];delete a[c]}if(c==="color"){if(a[c]instanceof b.colors===false)a[c]=b.colors(a[c]);k[j].hsl=
a[c].model("HSL").format("array1Circle2Percentage");delete a[c]}}b.extend(k[j],a);k[j].hsl=b.colors.models.HSL.sanitize(k[j].hsl).slice(0,3);t(o);if("disabled"in a)a.disabled?l.addClass("disabled"):l.removeClass("disabled")}else a==="hsl"&&d.push(f);v()});return d.length>1?d:d.length==1?d[0]:e};if(b.colors.pickers===undefined)b.colors.pickers={};m=b("script[src]");if(m.length>0){m=m.eq(m.length-1).attr("src").split("/");m.pop();m=m.join("/")+"/"}else m="";b.colors.pickers.hslLite={pathToImages:m}})(jQuery);
